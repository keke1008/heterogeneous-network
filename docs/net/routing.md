# ルーティング層

フレームを任意のノードへ届ける

## Reactive

宛先のノードまでのルートを探索するプロトコル．

### プロトコル番号

2

### プロトコル

### フレームレイアウト

#### フレームタイプ

| タイプ  | 値  |
| ------- | --- |
| Request | 1   |
| Reply   | 2   |

#### レイアウト

| #   | フィールド名         | サイズ(byte) | 備考                                                 |
| --- | -------------------- | ------------ | ---------------------------------------------------- |
| 1   | フレームタイプ       | 1            |                                                      |
| 2   | フレームID           | 2            |                                                      |
| 3   | トータルコスト       | 2            | 探索を開始したノードから，送信元のノードまでのコスト |
| 4   | ソースノードのID     | 可変         | 探索を開始したノード                                 |
| 5   | ターゲットノードのID | 可変         | 探索対象のノード                                     |
| 6   | 送信ノードのID       | 可変         | このフレームを送信したノード                         |

## Routing

離れたノードに対してデータを送信するプロトコル．

上位のプロトコルをカプセル化する．

### プロトコル

### ヘッダレイアウト

| #   | フィールド名     | サイズ(byte) | 備考                                                       |
| --- | ---------------- | ------------ | ---------------------------------------------------------- |
| 1   | 送信元ノードのID | 可変         |                                                            |
| 2   | 宛先ノードのID   | 可変         |                                                            |
| 3   | フレームID       | 2            | #2(宛先ノードのID)がブロードキャストである場合のみ存在する |
